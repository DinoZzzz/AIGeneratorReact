@model AIGeneratorWebApp.ViewModels.Reports.ReportListViewModel
@{
    ViewData["Title"] = $"Izvještaji - {Model.CustomerName}";
}
<div class="mb-4">
    <a asp-controller="Customers" asp-action="Details" asp-route-id="@Model.CustomerId" class="btn btn-link text-decoration-none"><i class="bi bi-arrow-left"></i> Povratak na naručitelja</a>
</div>
<section class="dashboard-card mb-4">
    <div class="d-flex justify-content-between flex-wrap gap-3">
        <div>
            <p class="text-uppercase small text-muted mb-1">Naručitelj</p>
            <h3 class="fw-bold mb-0">@Model.CustomerName</h3>
            <p class="text-muted mb-0">@Model.ConstructionName</p>
        </div>
        <form class="d-flex gap-2" method="get">
            <input type="hidden" name="customerId" value="@Model.CustomerId" />
            <input type="hidden" name="constructionId" value="@Model.ConstructionId" />
            <input type="text" name="search" class="form-control" placeholder="Pretraži" value="@Model.Search" />
            <button class="btn btn-outline-primary">Traži</button>
        </form>
    </div>
</section>
<div class="table-responsive">
    <table class="table table-report">
        <thead>
            <tr>
                <th>Segment</th>
                <th>Kreirao</th>
                <th>Certifier</th>
                <th>Broj obrazaca</th>
                <th>Datum</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var report in Model.Reports)
            {
                <tr>
                    <td>@report.ConstructionPart</td>
                    <td>@report.CreatedBy</td>
                    <td>@report.Certifier</td>
                    <td>@report.FormsCount</td>
                    <td>@report.CreatedAt</td>
                    <td>
                        <span class="badge @(report.Satisfies ? "bg-success-subtle text-success" : "bg-danger-subtle text-danger")">
                            @(report.Satisfies ? "Sukladno" : "Nesukladno")
                        </span>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<nav class="mt-4">
    <ul class="pagination">
        @for (var i = 0; i < Model.TotalPages; i++)
        {
            <li class="page-item @(i == Model.CurrentPage ? "active" : string.Empty)">
                <a class="page-link" asp-route-page="@i" asp-route-search="@Model.Search" asp-route-customerId="@Model.CustomerId" asp-route-constructionId="@Model.ConstructionId">@(i + 1)</a>
            </li>
        }
    </ul>
</nav>
